<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>Apollo: apollo::perception::HdmapROIFilter Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Apollo
   &#160;<span id="projectnumber">1.5</span>
   </div>
   <div id="projectbrief">Open source self driving car software</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceapollo.html">apollo</a></li><li class="navelem"><a class="el" href="namespaceapollo_1_1perception.html">perception</a></li><li class="navelem"><a class="el" href="classapollo_1_1perception_1_1HdmapROIFilter.html">HdmapROIFilter</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classapollo_1_1perception_1_1HdmapROIFilter-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">apollo::perception::HdmapROIFilter Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This is ROI(Region of Interest) Filter based on HD map, which can figure out which point is in the regions what we focus on(Almost in the road). This is an optional process, the most advantage of ROI filter is to filter out some points to reduce calculation in the following process.  
 <a href="classapollo_1_1perception_1_1HdmapROIFilter.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="hdmap__roi__filter_8h_source.html">hdmap_roi_filter.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for apollo::perception::HdmapROIFilter:</div>
<div class="dyncontent">
<div class="center"><img src="classapollo_1_1perception_1_1HdmapROIFilter__inherit__graph.png" border="0" usemap="#apollo_1_1perception_1_1HdmapROIFilter_inherit__map" alt="Inheritance graph"/></div>
<map name="apollo_1_1perception_1_1HdmapROIFilter_inherit__map" id="apollo_1_1perception_1_1HdmapROIFilter_inherit__map">
</map>
</div>
<div class="dynheader">
Collaboration diagram for apollo::perception::HdmapROIFilter:</div>
<div class="dyncontent">
<div class="center"><img src="classapollo_1_1perception_1_1HdmapROIFilter__coll__graph.png" border="0" usemap="#apollo_1_1perception_1_1HdmapROIFilter_coll__map" alt="Collaboration graph"/></div>
<map name="apollo_1_1perception_1_1HdmapROIFilter_coll__map" id="apollo_1_1perception_1_1HdmapROIFilter_coll__map">
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a8ae7bda9edea6a66908a67faab2f6712"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classapollo_1_1perception_1_1HdmapROIFilter.html#a8ae7bda9edea6a66908a67faab2f6712">HdmapROIFilter</a> ()</td></tr>
<tr class="separator:a8ae7bda9edea6a66908a67faab2f6712"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a14d6c2dd595e8e55800ac0efc68c54"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classapollo_1_1perception_1_1HdmapROIFilter.html#a9a14d6c2dd595e8e55800ac0efc68c54">~HdmapROIFilter</a> ()</td></tr>
<tr class="separator:a9a14d6c2dd595e8e55800ac0efc68c54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76316a4c9f4aebd311cdaafb897cdfb4"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classapollo_1_1perception_1_1HdmapROIFilter.html#a76316a4c9f4aebd311cdaafb897cdfb4">Init</a> () override</td></tr>
<tr class="separator:a76316a4c9f4aebd311cdaafb897cdfb4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a824e73d08be0f8eb859cffc8012a5730"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classapollo_1_1perception_1_1HdmapROIFilter.html#a824e73d08be0f8eb859cffc8012a5730">name</a> () const </td></tr>
<tr class="separator:a824e73d08be0f8eb859cffc8012a5730"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae668f193ecf193e9ca2febc3a3ceea04"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classapollo_1_1perception_1_1HdmapROIFilter.html#ae668f193ecf193e9ca2febc3a3ceea04">Filter</a> (const <a class="el" href="namespaceapollo_1_1perception_1_1pcl__util.html#a574e10478c283f7d1799dc1ee2e2e6ae">pcl_util::PointCloudPtr</a> &amp;cloud, const <a class="el" href="structapollo_1_1perception_1_1ROIFilterOptions.html">ROIFilterOptions</a> &amp;roi_filter_options, <a class="el" href="namespaceapollo_1_1perception_1_1pcl__util.html#ae507190fa2f450f9a64cd0564e3916cc">pcl_util::PointIndices</a> *roi_indices) override</td></tr>
<tr class="separator:ae668f193ecf193e9ca2febc3a3ceea04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aedc3b1cb31d9e5ea986e94e27303206b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classapollo_1_1perception_1_1HdmapROIFilter.html#aedc3b1cb31d9e5ea986e94e27303206b">MergeHdmapStructToPolygons</a> (const <a class="el" href="namespaceapollo_1_1perception.html#abf62fb7a2ba0eb4929d004be94715e44">HdmapStructConstPtr</a> &amp;hdmap_struct_ptr, std::vector&lt; <a class="el" href="namespaceapollo_1_1perception.html#a128655e36db221f46748411723a370a1">PolygonDType</a> &gt; *polygons)</td></tr>
<tr class="memdesc:aedc3b1cb31d9e5ea986e94e27303206b"><td class="mdescLeft">&#160;</td><td class="mdescRight">: Merge junction polygons and road boundaries in a vector.  <a href="#aedc3b1cb31d9e5ea986e94e27303206b">More...</a><br/></td></tr>
<tr class="separator:aedc3b1cb31d9e5ea986e94e27303206b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classapollo_1_1perception_1_1BaseROIFilter"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classapollo_1_1perception_1_1BaseROIFilter')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classapollo_1_1perception_1_1BaseROIFilter.html">apollo::perception::BaseROIFilter</a></td></tr>
<tr class="memitem:ad08a301325b6d4e384a3580c581b942e inherit pub_methods_classapollo_1_1perception_1_1BaseROIFilter"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classapollo_1_1perception_1_1BaseROIFilter.html#ad08a301325b6d4e384a3580c581b942e">BaseROIFilter</a> ()</td></tr>
<tr class="separator:ad08a301325b6d4e384a3580c581b942e inherit pub_methods_classapollo_1_1perception_1_1BaseROIFilter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a559eacdd90e37eac434c0c42fad95f44 inherit pub_methods_classapollo_1_1perception_1_1BaseROIFilter"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classapollo_1_1perception_1_1BaseROIFilter.html#a559eacdd90e37eac434c0c42fad95f44">~BaseROIFilter</a> ()</td></tr>
<tr class="separator:a559eacdd90e37eac434c0c42fad95f44 inherit pub_methods_classapollo_1_1perception_1_1BaseROIFilter"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:ae8acb4591032908dd1372c29accea7ca"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classapollo_1_1perception_1_1HdmapROIFilter.html#ae8acb4591032908dd1372c29accea7ca">FilterWithPolygonMask</a> (const <a class="el" href="namespaceapollo_1_1perception_1_1pcl__util.html#a574e10478c283f7d1799dc1ee2e2e6ae">pcl_util::PointCloudPtr</a> &amp;cloud, const std::vector&lt; <a class="el" href="namespaceapollo_1_1perception.html#a057f38c2ad1245f60cc936c683888441">PolygonType</a> &gt; &amp;map_polygons, <a class="el" href="namespaceapollo_1_1perception_1_1pcl__util.html#ae507190fa2f450f9a64cd0564e3916cc">pcl_util::PointIndices</a> *roi_indices)</td></tr>
<tr class="memdesc:ae8acb4591032908dd1372c29accea7ca"><td class="mdescLeft">&#160;</td><td class="mdescRight">: Draw polygons into grids in bitmap and check each point whether is in the grids within ROI.  <a href="#ae8acb4591032908dd1372c29accea7ca">More...</a><br/></td></tr>
<tr class="separator:ae8acb4591032908dd1372c29accea7ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0cdd56b7289912f2f4fad906b14e2efe"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classapollo_1_1perception_1_1HdmapROIFilter.html#a0cdd56b7289912f2f4fad906b14e2efe">TransformFrame</a> (const <a class="el" href="namespaceapollo_1_1perception_1_1pcl__util.html#abe2ee4d404b18d3aeed855a50c5d0957">pcl_util::PointCloudConstPtr</a> &amp;cloud, const Eigen::Affine3d &amp;vel_pose, const std::vector&lt; <a class="el" href="namespaceapollo_1_1perception.html#a128655e36db221f46748411723a370a1">PolygonDType</a> &gt; &amp;polygons_world, std::vector&lt; <a class="el" href="namespaceapollo_1_1perception.html#a057f38c2ad1245f60cc936c683888441">PolygonType</a> &gt; *polygons_local, <a class="el" href="namespaceapollo_1_1perception_1_1pcl__util.html#a574e10478c283f7d1799dc1ee2e2e6ae">pcl_util::PointCloudPtr</a> cloud_local)</td></tr>
<tr class="memdesc:a0cdd56b7289912f2f4fad906b14e2efe"><td class="mdescLeft">&#160;</td><td class="mdescRight">: Transform polygon points and cloud points from world coordinates system to local.  <a href="#a0cdd56b7289912f2f4fad906b14e2efe">More...</a><br/></td></tr>
<tr class="separator:a0cdd56b7289912f2f4fad906b14e2efe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada9391fd5aaa11b5c8335cad3c615600"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classapollo_1_1perception_1_1Bitmap2D.html#a1f08e9d744cbedc916e7502820c71e8d">MajorDirection</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classapollo_1_1perception_1_1HdmapROIFilter.html#ada9391fd5aaa11b5c8335cad3c615600">GetMajorDirection</a> (const std::vector&lt; <a class="el" href="namespaceapollo_1_1perception.html#a057f38c2ad1245f60cc936c683888441">PolygonType</a> &gt; &amp;map_polygons, std::vector&lt; <a class="el" href="classapollo_1_1perception_1_1PolygonScanConverter.html#a8352e4b8159f903b12a4bf12e188d23d">PolygonScanConverter::Polygon</a> &gt; *polygons)</td></tr>
<tr class="memdesc:ada9391fd5aaa11b5c8335cad3c615600"><td class="mdescLeft">&#160;</td><td class="mdescRight">: Get major direction. Transform polygons type to what we want.  <a href="#ada9391fd5aaa11b5c8335cad3c615600">More...</a><br/></td></tr>
<tr class="separator:ada9391fd5aaa11b5c8335cad3c615600"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e9ecc1fadcb3f6d62c1c15d57a33270"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classapollo_1_1perception_1_1HdmapROIFilter.html#a1e9ecc1fadcb3f6d62c1c15d57a33270">MergeRoadBoundariesToPolygons</a> (const std::vector&lt; <a class="el" href="structapollo_1_1perception_1_1RoadBoundary.html">RoadBoundary</a> &gt; &amp;road_boundaries, std::vector&lt; <a class="el" href="namespaceapollo_1_1perception.html#a128655e36db221f46748411723a370a1">PolygonDType</a> &gt; *polygons)</td></tr>
<tr class="memdesc:a1e9ecc1fadcb3f6d62c1c15d57a33270"><td class="mdescLeft">&#160;</td><td class="mdescRight">: Merge left boundary and right boundary of each road into polygon type.  <a href="#a1e9ecc1fadcb3f6d62c1c15d57a33270">More...</a><br/></td></tr>
<tr class="separator:a1e9ecc1fadcb3f6d62c1c15d57a33270"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96a0181f620e0e7af6b12fb52d5d2528"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classapollo_1_1perception_1_1HdmapROIFilter.html#a96a0181f620e0e7af6b12fb52d5d2528">Bitmap2dFilter</a> (const pcl::PointCloud&lt; <a class="el" href="namespaceapollo_1_1perception_1_1pcl__util.html#ad5490d52db8cf98aa10d014045cf8e12">pcl_util::Point</a> &gt;::ConstPtr in_cloud_ptr, const <a class="el" href="classapollo_1_1perception_1_1Bitmap2D.html">Bitmap2D</a> &amp;bitmap, <a class="el" href="namespaceapollo_1_1perception_1_1pcl__util.html#ae507190fa2f450f9a64cd0564e3916cc">pcl_util::PointIndices</a> *roi_indices_ptr)</td></tr>
<tr class="memdesc:a96a0181f620e0e7af6b12fb52d5d2528"><td class="mdescLeft">&#160;</td><td class="mdescRight">: After drawing polygons into grids in bitmap. We check each point whether is in the grids within ROI.  <a href="#a96a0181f620e0e7af6b12fb52d5d2528">More...</a><br/></td></tr>
<tr class="separator:a96a0181f620e0e7af6b12fb52d5d2528"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a61a82f29ff8cd8ebd819b4e52683f156"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classapollo_1_1perception_1_1HdmapROIFilter.html#a61a82f29ff8cd8ebd819b4e52683f156">range_</a></td></tr>
<tr class="separator:a61a82f29ff8cd8ebd819b4e52683f156"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9909320429a7b58bfc792aa79a1e234"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classapollo_1_1perception_1_1HdmapROIFilter.html#ad9909320429a7b58bfc792aa79a1e234">cell_size_</a></td></tr>
<tr class="separator:ad9909320429a7b58bfc792aa79a1e234"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a915043a9fff5d6843a32226dea6a212e"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classapollo_1_1perception_1_1HdmapROIFilter.html#a915043a9fff5d6843a32226dea6a212e">extend_dist_</a></td></tr>
<tr class="separator:a915043a9fff5d6843a32226dea6a212e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This is ROI(Region of Interest) Filter based on HD map, which can figure out which point is in the regions what we focus on(Almost in the road). This is an optional process, the most advantage of ROI filter is to filter out some points to reduce calculation in the following process. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a8ae7bda9edea6a66908a67faab2f6712"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">apollo::perception::HdmapROIFilter::HdmapROIFilter </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a9a14d6c2dd595e8e55800ac0efc68c54"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">apollo::perception::HdmapROIFilter::~HdmapROIFilter </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a96a0181f620e0e7af6b12fb52d5d2528"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool apollo::perception::HdmapROIFilter::Bitmap2dFilter </td>
          <td>(</td>
          <td class="paramtype">const pcl::PointCloud&lt; <a class="el" href="namespaceapollo_1_1perception_1_1pcl__util.html#ad5490d52db8cf98aa10d014045cf8e12">pcl_util::Point</a> &gt;::ConstPtr&#160;</td>
          <td class="paramname"><em>in_cloud_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classapollo_1_1perception_1_1Bitmap2D.html">Bitmap2D</a> &amp;&#160;</td>
          <td class="paramname"><em>bitmap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespaceapollo_1_1perception_1_1pcl__util.html#ae507190fa2f450f9a64cd0564e3916cc">pcl_util::PointIndices</a> *&#160;</td>
          <td class="paramname"><em>roi_indices_ptr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>: After drawing polygons into grids in bitmap. We check each point whether is in the grids within ROI. </p>

</div>
</div>
<a class="anchor" id="ae668f193ecf193e9ca2febc3a3ceea04"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool apollo::perception::HdmapROIFilter::Filter </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespaceapollo_1_1perception_1_1pcl__util.html#a574e10478c283f7d1799dc1ee2e2e6ae">pcl_util::PointCloudPtr</a> &amp;&#160;</td>
          <td class="paramname"><em>cloud</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structapollo_1_1perception_1_1ROIFilterOptions.html">ROIFilterOptions</a> &amp;&#160;</td>
          <td class="paramname"><em>roi_filter_options</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespaceapollo_1_1perception_1_1pcl__util.html#ae507190fa2f450f9a64cd0564e3916cc">pcl_util::PointIndices</a> *&#160;</td>
          <td class="paramname"><em>roi_indices</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>[In] cloud: All the cloud points with local coordinates [In] roi_filter_options: Type definition in "../../interface/base_roi_filter.h". Contains the information of ROI and world to local coordinates transformation matrix. [Out] roi_indices: The indices of points within ROI </p>
<dl class="section return"><dt>Returns</dt><dd>true if filter points successfully, otherwise return false </dd></dl>

<p>Implements <a class="el" href="classapollo_1_1perception_1_1BaseROIFilter.html#ac3997fa6d0527919e9e25da4036b8f93">apollo::perception::BaseROIFilter</a>.</p>

</div>
</div>
<a class="anchor" id="ae8acb4591032908dd1372c29accea7ca"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool apollo::perception::HdmapROIFilter::FilterWithPolygonMask </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespaceapollo_1_1perception_1_1pcl__util.html#a574e10478c283f7d1799dc1ee2e2e6ae">pcl_util::PointCloudPtr</a> &amp;&#160;</td>
          <td class="paramname"><em>cloud</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="namespaceapollo_1_1perception.html#a057f38c2ad1245f60cc936c683888441">PolygonType</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>map_polygons</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespaceapollo_1_1perception_1_1pcl__util.html#ae507190fa2f450f9a64cd0564e3916cc">pcl_util::PointIndices</a> *&#160;</td>
          <td class="paramname"><em>roi_indices</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>: Draw polygons into grids in bitmap and check each point whether is in the grids within ROI. </p>

</div>
</div>
<a class="anchor" id="ada9391fd5aaa11b5c8335cad3c615600"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classapollo_1_1perception_1_1Bitmap2D.html#a1f08e9d744cbedc916e7502820c71e8d">MajorDirection</a> apollo::perception::HdmapROIFilter::GetMajorDirection </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="namespaceapollo_1_1perception.html#a057f38c2ad1245f60cc936c683888441">PolygonType</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>map_polygons</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="classapollo_1_1perception_1_1PolygonScanConverter.html#a8352e4b8159f903b12a4bf12e188d23d">PolygonScanConverter::Polygon</a> &gt; *&#160;</td>
          <td class="paramname"><em>polygons</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>: Get major direction. Transform polygons type to what we want. </p>

</div>
</div>
<a class="anchor" id="a76316a4c9f4aebd311cdaafb897cdfb4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool apollo::perception::HdmapROIFilter::Init </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classapollo_1_1perception_1_1BaseROIFilter.html#a294adc5cf0c3d4ede98e8b6a50b900a4">apollo::perception::BaseROIFilter</a>.</p>

</div>
</div>
<a class="anchor" id="aedc3b1cb31d9e5ea986e94e27303206b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void apollo::perception::HdmapROIFilter::MergeHdmapStructToPolygons </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespaceapollo_1_1perception.html#abf62fb7a2ba0eb4929d004be94715e44">HdmapStructConstPtr</a> &amp;&#160;</td>
          <td class="paramname"><em>hdmap_struct_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="namespaceapollo_1_1perception.html#a128655e36db221f46748411723a370a1">PolygonDType</a> &gt; *&#160;</td>
          <td class="paramname"><em>polygons</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>: Merge junction polygons and road boundaries in a vector. </p>

</div>
</div>
<a class="anchor" id="a1e9ecc1fadcb3f6d62c1c15d57a33270"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void apollo::perception::HdmapROIFilter::MergeRoadBoundariesToPolygons </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="structapollo_1_1perception_1_1RoadBoundary.html">RoadBoundary</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>road_boundaries</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="namespaceapollo_1_1perception.html#a128655e36db221f46748411723a370a1">PolygonDType</a> &gt; *&#160;</td>
          <td class="paramname"><em>polygons</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>: Merge left boundary and right boundary of each road into polygon type. </p>

</div>
</div>
<a class="anchor" id="a824e73d08be0f8eb859cffc8012a5730"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string apollo::perception::HdmapROIFilter::name </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classapollo_1_1perception_1_1BaseROIFilter.html#a2a09f67070b882b1eaff98c4840293e8">apollo::perception::BaseROIFilter</a>.</p>

</div>
</div>
<a class="anchor" id="a0cdd56b7289912f2f4fad906b14e2efe"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void apollo::perception::HdmapROIFilter::TransformFrame </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespaceapollo_1_1perception_1_1pcl__util.html#abe2ee4d404b18d3aeed855a50c5d0957">pcl_util::PointCloudConstPtr</a> &amp;&#160;</td>
          <td class="paramname"><em>cloud</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const Eigen::Affine3d &amp;&#160;</td>
          <td class="paramname"><em>vel_pose</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="namespaceapollo_1_1perception.html#a128655e36db221f46748411723a370a1">PolygonDType</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>polygons_world</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="namespaceapollo_1_1perception.html#a057f38c2ad1245f60cc936c683888441">PolygonType</a> &gt; *&#160;</td>
          <td class="paramname"><em>polygons_local</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespaceapollo_1_1perception_1_1pcl__util.html#a574e10478c283f7d1799dc1ee2e2e6ae">pcl_util::PointCloudPtr</a>&#160;</td>
          <td class="paramname"><em>cloud_local</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>: Transform polygon points and cloud points from world coordinates system to local. </p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="ad9909320429a7b58bfc792aa79a1e234"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double apollo::perception::HdmapROIFilter::cell_size_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a915043a9fff5d6843a32226dea6a212e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double apollo::perception::HdmapROIFilter::extend_dist_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a61a82f29ff8cd8ebd819b4e52683f156"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double apollo::perception::HdmapROIFilter::range_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>modules/perception/obstacle/lidar/roi_filter/hdmap_roi_filter/<a class="el" href="hdmap__roi__filter_8h_source.html">hdmap_roi_filter.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
