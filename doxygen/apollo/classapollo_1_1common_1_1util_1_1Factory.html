<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>Apollo: apollo::common::util::Factory&lt; IdentifierType, AbstractProduct, ProductCreator, MapContainer &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Apollo
   &#160;<span id="projectnumber">1.5</span>
   </div>
   <div id="projectbrief">Open source self driving car software</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceapollo.html">apollo</a></li><li class="navelem"><a class="el" href="namespaceapollo_1_1common.html">common</a></li><li class="navelem"><a class="el" href="namespaceapollo_1_1common_1_1util.html">util</a></li><li class="navelem"><a class="el" href="classapollo_1_1common_1_1util_1_1Factory.html">Factory</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classapollo_1_1common_1_1util_1_1Factory-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">apollo::common::util::Factory&lt; IdentifierType, AbstractProduct, ProductCreator, MapContainer &gt; Class Template Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Implements a <a class="el" href="classapollo_1_1common_1_1util_1_1Factory.html" title="Implements a Factory design pattern with Register and Create methods. ">Factory</a> design pattern with Register and Create methods.  
 <a href="classapollo_1_1common_1_1util_1_1Factory.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="factory_8h_source.html">factory.h</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for apollo::common::util::Factory&lt; IdentifierType, AbstractProduct, ProductCreator, MapContainer &gt;:</div>
<div class="dyncontent">
<div class="center"><img src="classapollo_1_1common_1_1util_1_1Factory__coll__graph.png" border="0" usemap="#apollo_1_1common_1_1util_1_1Factory_3_01IdentifierType_00_01AbstractProduct_00_01ProductCreator_00_01MapContainer_01_4_coll__map" alt="Collaboration graph"/></div>
<map name="apollo_1_1common_1_1util_1_1Factory_3_01IdentifierType_00_01AbstractProduct_00_01ProductCreator_00_01MapContainer_01_4_coll__map" id="apollo_1_1common_1_1util_1_1Factory_3_01IdentifierType_00_01AbstractProduct_00_01ProductCreator_00_01MapContainer_01_4_coll__map">
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aa935a9c1097675715e6c7f35cc31504e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classapollo_1_1common_1_1util_1_1Factory.html#aa935a9c1097675715e6c7f35cc31504e">Register</a> (const IdentifierType &amp;id, ProductCreator creator)</td></tr>
<tr class="memdesc:aa935a9c1097675715e6c7f35cc31504e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Registers the class given by the creator function, linking it to id. Registration must happen prior to calling CreateObject.  <a href="#aa935a9c1097675715e6c7f35cc31504e">More...</a><br/></td></tr>
<tr class="separator:aa935a9c1097675715e6c7f35cc31504e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc2aaeb5d6392755f417766c5e903afa"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classapollo_1_1common_1_1util_1_1Factory.html#abc2aaeb5d6392755f417766c5e903afa">Unregister</a> (const IdentifierType &amp;id)</td></tr>
<tr class="memdesc:abc2aaeb5d6392755f417766c5e903afa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unregisters the class with the given identifier.  <a href="#abc2aaeb5d6392755f417766c5e903afa">More...</a><br/></td></tr>
<tr class="separator:abc2aaeb5d6392755f417766c5e903afa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c80b87acbf36077c0cb13c4df01307f"><td class="memTemplParams" colspan="2">template&lt;typename... Args&gt; </td></tr>
<tr class="memitem:a9c80b87acbf36077c0cb13c4df01307f"><td class="memTemplItemLeft" align="right" valign="top">std::unique_ptr&lt; AbstractProduct &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classapollo_1_1common_1_1util_1_1Factory.html#a9c80b87acbf36077c0cb13c4df01307f">CreateObjectOrNull</a> (const IdentifierType &amp;id, Args...args)</td></tr>
<tr class="memdesc:a9c80b87acbf36077c0cb13c4df01307f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates and transfers membership of an object of type matching id. Need to register id before CreateObject is called. May return NULL silently.  <a href="#a9c80b87acbf36077c0cb13c4df01307f">More...</a><br/></td></tr>
<tr class="separator:a9c80b87acbf36077c0cb13c4df01307f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c070d1216818d72b5ac332184121dc1"><td class="memTemplParams" colspan="2">template&lt;typename... Args&gt; </td></tr>
<tr class="memitem:a7c070d1216818d72b5ac332184121dc1"><td class="memTemplItemLeft" align="right" valign="top">std::unique_ptr&lt; AbstractProduct &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classapollo_1_1common_1_1util_1_1Factory.html#a7c070d1216818d72b5ac332184121dc1">CreateObject</a> (const IdentifierType &amp;id, Args...args)</td></tr>
<tr class="memdesc:a7c070d1216818d72b5ac332184121dc1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates and transfers membership of an object of type matching id. Need to register id before CreateObject is called.  <a href="#a7c070d1216818d72b5ac332184121dc1">More...</a><br/></td></tr>
<tr class="separator:a7c070d1216818d72b5ac332184121dc1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;typename IdentifierType, class AbstractProduct, class ProductCreator = AbstractProduct *(*)(), class MapContainer = std::map&lt;IdentifierType, ProductCreator&gt;&gt;<br/>
class apollo::common::util::Factory&lt; IdentifierType, AbstractProduct, ProductCreator, MapContainer &gt;</h3>

<p>Implements a <a class="el" href="classapollo_1_1common_1_1util_1_1Factory.html" title="Implements a Factory design pattern with Register and Create methods. ">Factory</a> design pattern with Register and Create methods. </p>
<p>The objects created by this factory all implement the same interface (namely, AbstractProduct). This design pattern is useful in settings where multiple implementations of an interface are available, and one wishes to defer the choice of the implementation in use.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">IdentifierType</td><td>Type used for identifying the registered classes, typically std::string. </td></tr>
    <tr><td class="paramname">AbstractProduct</td><td>The interface implemented by the registered classes </td></tr>
    <tr><td class="paramname">ProductCreator</td><td>Function returning a pointer to an instance of the registered class </td></tr>
    <tr><td class="paramname">MapContainer</td><td>Internal implementation of the function mapping IdentifierType to ProductCreator, by default std::unordered_map </td></tr>
  </table>
  </dd>
</dl>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a7c070d1216818d72b5ac332184121dc1"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename IdentifierType, class AbstractProduct, class ProductCreator = AbstractProduct *(*)(), class MapContainer = std::map&lt;IdentifierType, ProductCreator&gt;&gt; </div>
<div class="memtemplate">
template&lt;typename... Args&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt;AbstractProduct&gt; <a class="el" href="classapollo_1_1common_1_1util_1_1Factory.html">apollo::common::util::Factory</a>&lt; IdentifierType, AbstractProduct, ProductCreator, MapContainer &gt;::CreateObject </td>
          <td>(</td>
          <td class="paramtype">const IdentifierType &amp;&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Args...&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates and transfers membership of an object of type matching id. Need to register id before CreateObject is called. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>The identifier of the class we which to instantiate </td></tr>
    <tr><td class="paramname">args</td><td>the object construction arguments </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a9c80b87acbf36077c0cb13c4df01307f"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename IdentifierType, class AbstractProduct, class ProductCreator = AbstractProduct *(*)(), class MapContainer = std::map&lt;IdentifierType, ProductCreator&gt;&gt; </div>
<div class="memtemplate">
template&lt;typename... Args&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt;AbstractProduct&gt; <a class="el" href="classapollo_1_1common_1_1util_1_1Factory.html">apollo::common::util::Factory</a>&lt; IdentifierType, AbstractProduct, ProductCreator, MapContainer &gt;::CreateObjectOrNull </td>
          <td>(</td>
          <td class="paramtype">const IdentifierType &amp;&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Args...&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates and transfers membership of an object of type matching id. Need to register id before CreateObject is called. May return NULL silently. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>The identifier of the class we which to instantiate </td></tr>
    <tr><td class="paramname">args</td><td>the object construction arguments </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aa935a9c1097675715e6c7f35cc31504e"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename IdentifierType, class AbstractProduct, class ProductCreator = AbstractProduct *(*)(), class MapContainer = std::map&lt;IdentifierType, ProductCreator&gt;&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classapollo_1_1common_1_1util_1_1Factory.html">apollo::common::util::Factory</a>&lt; IdentifierType, AbstractProduct, ProductCreator, MapContainer &gt;::Register </td>
          <td>(</td>
          <td class="paramtype">const IdentifierType &amp;&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ProductCreator&#160;</td>
          <td class="paramname"><em>creator</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Registers the class given by the creator function, linking it to id. Registration must happen prior to calling CreateObject. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>Identifier of the class being registered </td></tr>
    <tr><td class="paramname">creator</td><td>Function returning a pointer to an instance of the registered class </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True iff the key id is still available </dd></dl>

</div>
</div>
<a class="anchor" id="abc2aaeb5d6392755f417766c5e903afa"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename IdentifierType, class AbstractProduct, class ProductCreator = AbstractProduct *(*)(), class MapContainer = std::map&lt;IdentifierType, ProductCreator&gt;&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classapollo_1_1common_1_1util_1_1Factory.html">apollo::common::util::Factory</a>&lt; IdentifierType, AbstractProduct, ProductCreator, MapContainer &gt;::Unregister </td>
          <td>(</td>
          <td class="paramtype">const IdentifierType &amp;&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Unregisters the class with the given identifier. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>The identifier of the class to be unregistered </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>modules/common/util/<a class="el" href="factory_8h_source.html">factory.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
